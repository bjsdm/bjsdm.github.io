---
layout: post
title: éƒ½å¿«é¢è¯•äº†ï¼Œè¿˜ä¸èµ¶ç´§å¤ä¹ ä¸‹HTTP!
author: ä¸è¿‘è§†çš„çŒ«
date: 2021-03-16
categories: blog
tags: []
description: éƒ½å¿«é¢è¯•äº†ï¼Œè¿˜ä¸èµ¶ç´§å¤ä¹ ä¸‹HTTP!
---

## ä»€ä¹ˆæ˜¯HTTP

> è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHypertext Transfer Protocolï¼ŒHTTPï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚å®ƒæŒ‡å®šäº†å®¢æˆ·ç«¯å¯èƒ½å‘é€ç»™æœåŠ¡å™¨ä»€ä¹ˆæ ·çš„æ¶ˆæ¯ä»¥åŠå¾—åˆ°ä»€ä¹ˆæ ·çš„å“åº”ã€‚
> â€”â€”æ¥è‡ªç™¾åº¦ç™¾ç§‘

<img src="https://img-blog.csdnimg.cn/20210316211700731.jpg" width = "200">

è¯´ç™½äº†ï¼Œå…¶å®å°±æ˜¯è¯·æ±‚-å“åº”åè®®ã€‚

## è¯·æ±‚éƒ¨åˆ†

é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸ªæ —å­ğŸŒ°ï¼š

åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥`https://blog.csdn.net/m0_46278918`ï¼Œå›è½¦ã€‚

å¯ä»¥çœ‹åˆ°å…¶è¯·æ±‚æ•°æ®ï¼š

<img src="https://img-blog.csdnimg.cn/20210316220851690.jpg" width = "550">

è¿™äº›æ•°æ®å·²ç»è¢«æµè§ˆå™¨è¿›è¡Œæ’ç‰ˆè¿‡äº†ï¼Œå…¶å®å…¶ä¸»è¦æ ¼å¼ä¸ºï¼š

```
GET /m0_46278918  HTTP/1.1
Host: blog.csdn.net
Content-Type: text/plain
Content-length: 3

abc
```

å¥½äº†ï¼Œå¼€å§‹è¿›è¡Œè§£æï¼š

<img src="https://img-blog.csdnimg.cn/20210316224128960.png" width = "80">

---

### è¯·æ±‚è¡Œï¼š
`GET /m0_46278918  HTTP1.1`

- `GET`ï¼šè¯·æ±‚æ–¹å¼
- `/m0_46278918`ï¼šè¯·æ±‚è·¯å¾„
- `HTTP1.1`ï¼šHTTPç‰ˆæœ¬

##### è¯·æ±‚æ–¹å¼ï¼š

- GETï¼šè·å–èµ„æº
- POSTï¼šå¢åŠ æˆ–ä¿®æ”¹èµ„æº
- PUTï¼šä¿®æ”¹èµ„æº
- DELETEï¼šåˆ é™¤èµ„æº

##### è¯·æ±‚è·¯å¾„ï¼š

æœåŠ¡å™¨ä»¥è·¯å¾„ä½œä¸ºä¾æ®ï¼Œè¿”å›ç”¨æˆ·æ‰€éœ€çš„å†…å®¹ã€‚

##### HTTPç‰ˆæœ¬ï¼š

ç›®å‰æœ€ä¸ºæµè¡Œçš„ç‰ˆæœ¬ä¸º 1.1ï¼Œå¦å¤– 1.0 å’Œ 2.0 åŒæ ·æœ‰å æ¯”ã€‚

---

### å¤´éƒ¨ä¿¡æ¯ï¼š

`
Host: blog.csdn.net
`

`
Content-Type: text/plain
`

`
Content-Length: 3
`

è¯·æ±‚å¤´å¹¶ä¸æ˜¯åªæœ‰è¿™ä¸‰é¡¹ï¼Œè€Œæ˜¯å¸¸ç”¨æœ‰è¿™ä¸‰é¡¹è€Œå·²ï¼Œè¿˜æœ‰å…¶å®ƒçš„ï¼Œä¾‹å¦‚ï¼š`Accept-Encoding: gzip`ã€`Accept-Charset: utf-8`ç­‰ï¼Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚

å…¶ä¸­ï¼š

- Hostï¼šåŸŸå
- Content-Typeï¼šå†…å®¹æ ¼å¼
- Content-Lengthï¼šå†…å®¹é•¿åº¦
- Acceptï¼šå®¢æˆ·ç«¯èƒ½æ¥å—çš„æ•°æ®ç±»å‹ã€‚å¦‚ï¼štext/htmlã€application/json
- Accept-Encoding: å®¢æˆ·ç«¯èƒ½æ¥å—çš„å‹ç¼©ç¼–ç ç±»å‹ã€‚å¦‚ï¼šgzip
- Accept-Charset: å®¢æˆ·ç«¯æ¥å—çš„å­—ç¬¦é›†ã€‚å¦‚ï¼šutf-8ã€GBK

---

### å†…å®¹ï¼š

`abc`

em...å°±è¯·æ±‚å†…å®¹

---

è¯´åˆ°è¿™é‡Œï¼ŒæŠŠè¯·æ±‚æ•°æ®æ ¼å¼åŸºæœ¬è¯´æ˜äº†ä¸‹ï¼Œä½†æ˜¯ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å¯èƒ½æœ‰ç–‘é—®ï¼Œè¯·æ±‚æ•°æ®æ ¼å¼é•¿å¾—æ˜¯è¿™æ ·ï¼Œä½†åœ¨ä»£ç ä¸Šå®ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

<img src="https://img-blog.csdnimg.cn/20210316230041447.png" width = "350">

å¥½çš„ï¼Œä»£ç å¦‚ä¸‹ï¼š

```
    private static final String host = "blog.csdn.net";
    private static final int port = 80;
    private static final String content = "GET /m0_46278918  HTTP/1.1\n" +
            "Host: blog.csdn.net\n" +
            "Content-Type: text/plain\n\n";
    private static String responseContent = "";

    public static void main(String[] args) {
        try (Socket socket = new Socket(host, port);
             BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream()));
             BufferedReader reader = new BufferedReader(new InputStreamReader(socket.getInputStream()))) {
            writer.write(content);
            writer.flush();
            while ((responseContent = reader.readLine()) != null) {
                System.out.println(responseContent);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
```

ä»£ç çš„é€»è¾‘ä¹Ÿæ¯”è¾ƒç®€å•ï¼š

- å»ºç«‹ Socket è¿æ¥
- å°†è¯·æ±‚æ•°æ®è¿›è¡Œå†™å…¥
- å¾ªç¯è¯»å–å“åº”æ•°æ®å¹¶è¿›è¡Œè¾“å‡º

è¿”å›ç»“æœï¼š

<img src="https://img-blog.csdnimg.cn/20210316234305379.jpg" width = "550">

è¿™è¯´æ˜äº†ä»€ä¹ˆï¼Ÿï¼Ÿ

è¯´æ˜äº†æµè§ˆå™¨è¿›è¡Œ HTTP å†…éƒ¨è¯·æ±‚çš„åŸç†æ²¡æœ‰é‚£ä¹ˆå¤æ‚çš„ï¼Œåªæ˜¯å°†è¯·æ±‚æ•°æ®æŒ‰ç…§ä¸€å®šçš„æ ¼å¼æ’ç‰ˆå†å‘é€åˆ°æœåŠ¡å™¨ã€‚

è€ŒæœåŠ¡å™¨ä¹ŸæŒ‰ç…§ä¸€å®šçš„æ ¼å¼è¿›è¡Œæ•°æ®è¿”å›ï¼Œè¿™ä¾¿æ˜¯ HTTP çš„å“åº”éƒ¨åˆ†ã€‚

## å“åº”éƒ¨åˆ†
```
//çŠ¶æ€è¡Œ
HTTP/1.1 301 Moved Permanently
//å¤´éƒ¨ä¿¡æ¯
Server: openresty
Date: Tue, 16 Mar 2021 15:38:14 GMT
Content-Type: text/html
Content-Length: 182
Connection: keep-alive
Keep-Alive: timeout=20
Location: https://blog.csdn.net/m0_46278918

//å†…å®¹
<html>
<head><title>301 Moved Permanently</title></head>
<body bgcolor="white">
<center><h1>301 Moved Permanently</h1></center>
<hr><center>openresty</center>
</body>
</html>
```

å…¶ä¸­ï¼Œå¤´éƒ¨ä¿¡æ¯å’Œå†…å®¹è·Ÿè¯·æ±‚æ•°æ®æ ¼å¼ä¸€è‡´ï¼Œå°±ä¸å†å¤šè¯´ï¼Œé‡ç‚¹çœ‹çœ‹**çŠ¶æ€è¡Œ**ï¼š
`HTTP/1.1 301 Moved Permanently`

- `HTTP/1.1`ï¼šHTTP ç‰ˆæœ¬
- `301`ï¼šçŠ¶æ€ç 
- `Moved Permanently`ï¼šçŠ¶æ€è¯´æ˜

å…¶ä¸­ï¼Œæœ€é‡è¦ä¸ºçŠ¶æ€ç ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š

- 1xxï¼šä¸´æ—¶æ€§æ¶ˆæ¯ã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œã€‚
	- 100 (ç»§ç»­å‘é€)
	- 101(æ­£åœ¨åˆ‡æ¢åè®®) 
- 2xxï¼šè¯·æ±‚æˆåŠŸã€‚
	- 200(æˆåŠŸ)
	- 201(åˆ›å»ºæˆåŠŸ)
- 3xxï¼šé‡å®šå‘ã€‚éœ€è¦è¿›ä¸€æ­¥æ“ä½œä»¥å®Œæˆè¯·æ±‚ã€‚
	- 301(æ°¸ä¹…è¿ç§»)
	- 302(æš‚æ—¶è¿ç§»)
	- 304(å†…å®¹æœªæ”¹å˜)
- 4xxï¼šå®¢æˆ·ç«¯é”™è¯¯ã€‚è¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–è€…æ— æ³•å®Œæˆè¯·æ±‚ã€‚
	- 400(å®¢æˆ·ç«¯è¯·æ±‚é”™è¯¯)
	- 401(è®¤è¯å¤±è´¥)
	- 403(è¢«ç¦æ­¢)
	- 404(æ‰¾ä¸åˆ°å†…å®¹)ã€‚
- 5xxï¼šæœåŠ¡å™¨é”™è¯¯ã€‚æœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ã€‚
	- 500(æœåŠ¡å™¨å†…éƒ¨é”™è¯¯)



---

è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·ï¼Œæ¬¢è¿å…³æ³¨æ”¯æŒä¸‹ï¼Œè°¢è°¢ï¼

<img src="https://img-blog.csdnimg.cn/20210318100217713.png" width = "500" >























